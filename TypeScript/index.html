<!-- blogPosts:text[] -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
  <title>Michael's blog</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../static/main.css">
  <link rel="stylesheet" type="text/css" href="../static/typeplate.css">
  <link rel="stylesheet" type="text/css" href="../static/highlight/styles/solarized_dark.css">  
  <script type="text/javascript"  src="../static/jquery.min.js"></script>
  <script type="text/javascript"  src="../static/main.js"></script>
  <script type="text/javascript"  src="../static/highlight/highlight.pack.js"></script>
  
</head>
<body>
  <div class="mainSection">
    <div id="navigation">
      <div id="gertruda">
	<a href="../index.html" class="stripHREF" id="symbol">
	</a>
	<div id="slogan">
	</div>
      </div>
      <div id="spacer"></div>	

      <!-- tag.name:string -->
<!-- tag.size:number -->
<!-- tagsList:tag[] -->
<!-- selectedTagSet:set<string> -->

<div class="tagContainer">
  
    
      
    		   

    
      <span class="tag tag__selected stripHREF smallTag" href="/TypeScript/" style="font-size:2.8vh;">TypeScript</span>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../DataMining/index.html" style="font-size:2.8vh;">DataMining</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../Contacts/index.html" style="font-size:2.8vh;">Contacts</a>
    
  
    
      		   
    		   

    
      <a class="tag bigTag stripHREF " href="../python/index.html" style="font-size:6.0vh;">python</a>
    
  
    
      		   
    		   

    
      <a class="tag bigTag stripHREF " href="../hour-of-coding/index.html" style="font-size:5.0vh;">hour-of-coding</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../static-typing/index.html" style="font-size:3.8vh;">static-typing</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../immutable.js/index.html" style="font-size:2.8vh;">immutable.js</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../debian/index.html" style="font-size:3.8vh;">debian</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../GoLang/index.html" style="font-size:2.8vh;">GoLang</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../flask/index.html" style="font-size:2.8vh;">flask</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../typescript/index.html" style="font-size:2.8vh;">typescript</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../jinja2/index.html" style="font-size:2.8vh;">jinja2</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../Architecture/index.html" style="font-size:2.8vh;">Architecture</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../play-video/index.html" style="font-size:2.8vh;">play-video</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../scraping/index.html" style="font-size:2.8vh;">scraping</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../nameConvention/index.html" style="font-size:2.8vh;">nameConvention</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../DEPTA/index.html" style="font-size:2.8vh;">DEPTA</a>
    
  
    
      
    		   

    
      <a class="tag smallTag stripHREF " href="../Hello/index.html" style="font-size:2.8vh;">Hello</a>
    
  
    
      		   
    		   

    
      <a class="tag bigTag stripHREF " href="../tutorial/index.html" style="font-size:7.2vh;">tutorial</a>
    
  
</div>    
    </div>
    <div id="content">
      <!-- <h3>Hello I am Michael. I write stuff and play piano</h3> -->
      
<div class="blogPost">
  <h2>How to make immutable Record play nicely with typescript</h2>
<p>For my current work, I need support for TypeScript with Immutable.js.
During my studying. I realised, that <strong>Record</strong> structure in Immutable.js has named parameters. So. It actually, acts like a JavaScript object.
But, with several differences. But,TypeScript does not work good with it.
So. I tried to find a solution</p>
<h4>Objective</h4>
<p>Make immutable.js type Record work with typechecking in TypeScript</p>
<h4>Solution</h4>
<p><code>///&lt;reference path='../node_modules/immutable/dist/immutable.d.ts'/&gt;
// Declare our interface
interface IMeta {
    editingTagId:     number
    editingNodeRowid: number
    tagFontMagnifier: number
    minTagFont:       number
    maxTagFont:       number
}
// Make composite interface
interface IMetaComposite extends Immutable.Map,IMeta {}
// Make Record
var metaRecord = Immutable.Record({
    editingTagId:     0,
    editingNodeRowid: 0,
    tagFontMagnifier: 1,
    minTagFont:       14,
    maxTagFont:       20
})
// Cast composite type
var meta = &lt;IMetaComposite&gt;(new metaRecord)
// Result. Actually compiles. IDE support works:
meta.editingTagId
meta.set
meta.minTagFont</code></p>
<h4>Conclusion</h4>
<p>This is not the best solution. But this is enough for my humble needs.</p>
</div>


    </div>
  </div>    
</body>
</html>